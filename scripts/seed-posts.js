const { createClient } = require('@supabase/supabase-js');

const supabaseUrl = 'https://ujhlgylnauzluttvmcrz.supabase.co';
const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqaGxneWxuYXV6bHV0dHZtY3J6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDA0MjcsImV4cCI6MjA4MTA3NjQyN30.UcOpbc6QDU-J2s_6eI5vEehvbgSRMCSHIjkFiHb0oRo';

const supabase = createClient(supabaseUrl, supabaseAnonKey);

const userId = '9878b01c-1d9e-4b54-8323-f77735445b39';

const posts = [
  {
    title: 'ëª¨ë†€ë¦¬ì‹ì˜ í•œê³„ë¥¼ ë„˜ì–´ì„œ - ì™œ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì„ íƒí–ˆëŠ”ê°€',
    content: `# ëª¨ë†€ë¦¬ì‹ì˜ í•œê³„ë¥¼ ë„˜ì–´ì„œ - ì™œ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì„ íƒí–ˆëŠ”ê°€

## ì„œë¡ : ì´ ê¸€ì„ ì“°ëŠ” ì´ìœ 

ê¸°ìˆ  ë¸”ë¡œê·¸ì—ëŠ” ë‘ ì¢…ë¥˜ê°€ ìˆë‹¤ê³  ìƒê°í•¨.

í•˜ë‚˜ëŠ” "ì´ë ‡ê²Œ í•˜ë©´ ë©ë‹ˆë‹¤" ë¥˜ì˜ íŠœí† ë¦¬ì–¼.
ë‹¤ë¥¸ í•˜ë‚˜ëŠ” "ì™œ ì´ë ‡ê²Œ í–ˆê³ , ê·¸ ê³¼ì •ì—ì„œ ë­˜ ë°°ì› ëŠ”ê°€"ë¥¼ ë‹´ì€ íšŒê³ .

ì´ ê¸€ì€ í›„ìì„.

ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì ìš©í•˜ë©´ì„œ ê²ªì€ ì‚½ì§ˆ, ê³ ë¯¼, ê¹¨ë‹¬ìŒì„ ì†”ì§í•˜ê²Œ ê³µìœ í•˜ë ¤ê³  í•¨. ì™„ë²½í•œ ì •ë‹µì´ ì•„ë‹˜. ë‚˜ì˜ ìƒí™©ì—ì„œ ë‚˜ì˜ ì„ íƒì´ì—ˆì„ ë¿ì„.

## 1. ë¬¸ì œì˜ ì‹œì‘: ëª¨ë†€ë¦¬ì‹ì˜ ë‹¬ì½¤í•¨

### 1-1. ì²˜ìŒì—ëŠ” ì¢‹ì•˜ìŒ

2024ë…„ ì´ˆ, ê°œì¸ í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•¨. ì´ë ¥ì„œ, ë¸”ë¡œê·¸, í¬íŠ¸í´ë¦¬ì˜¤ ì„¸ ê¸°ëŠ¥ì„ í•˜ë‚˜ì˜ ì•±ìœ¼ë¡œ ë§Œë“¤ì—ˆìŒ.

\`\`\`
portfolio-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ resume/
â”‚   â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â””â”€â”€ portfolio/
\`\`\`

ëª¨ë†€ë¦¬ì‹ì˜ ì¥ì ì€ ë¶„ëª…í–ˆìŒ:
- ì„¤ì • í•˜ë‚˜ë©´ ë
- ì½”ë“œ ê³µìœ  ì‰¬ì›€
- ë°°í¬ ë‹¨ìˆœí•¨

3ê°œì›”ê°„ì€ í–‰ë³µí–ˆìŒ.

### 1-2. ê·¸ëŸ°ë° ìŠ¬ìŠ¬ ë¶ˆí¸í•´ì§

**ë¹Œë“œ ì‹œê°„**
\`\`\`bash
# ì²˜ìŒ: 45ì´ˆ
# 3ê°œì›” í›„: 3ë¶„ 20ì´ˆ
# 6ê°œì›” í›„: 7ë¶„ 15ì´ˆ
\`\`\`

ë¸”ë¡œê·¸ì— TipTap ì—ë””í„°ë¥¼ ì¶”ê°€í•˜ê³ , í¬íŠ¸í´ë¦¬ì˜¤ì— Three.jsë¥¼ ë„£ìœ¼ë‹ˆê¹Œ ë¹Œë“œ ì‹œê°„ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ëŠ˜ì–´ë‚¨.

ì»¤í”¼ ë§ˆì‹œê³  ì™€ë„ ì•„ì§ ë¹Œë“œ ì¤‘ì´ì—ˆìŒ.

**CSS ì¶©ëŒ**
\`\`\`css
/* resume/Skills.css */
.card { padding: 20px; }
/* ì´ê²Œ ë¸”ë¡œê·¸ì˜ .cardë„ ì˜í–¥ì„ ì¤Œ */
\`\`\`

ì´ë ¥ì„œ ìŠ¤íƒ€ì¼ ìˆ˜ì •í–ˆëŠ”ë° ë¸”ë¡œê·¸ê°€ ê¹¨ì§. ì‚¬ì†Œí•˜ì§€ë§Œ ì§œì¦ë‚˜ëŠ” ë¬¸ì œì˜€ìŒ.

**ì˜ì¡´ì„± ì§€ì˜¥**
\`\`\`json
{
  "dependencies": {
    "@tiptap/react": "^2.0.0",      // ë¸”ë¡œê·¸ìš©
    "three": "^0.150.0",             // í¬íŠ¸í´ë¦¬ì˜¤ìš©
    // ... 60ê°œê°€ ë„˜ëŠ” ì˜ì¡´ì„±
  }
}
\`\`\`

node_modulesê°€ 800MBë¥¼ ë„˜ìŒ. ì´ë ¥ì„œë§Œ ìˆ˜ì •í•˜ê³  ì‹¶ì€ë° ì™œ TipTapì„ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ”ì§€ ì˜ë¬¸ì´ ë“¤ê¸° ì‹œì‘í•¨.

### 1-3. ê³ ì°°: ëª¨ë†€ë¦¬ì‹ì˜ ë³¸ì§ˆì  í•œê³„

ì—¬ê¸°ì„œ ì ì‹œ ë©ˆì¶”ê³  ìƒê°í•´ë´„.

ëª¨ë†€ë¦¬ì‹ì´ ë‚˜ìœ ê±´ê°€? ì•„ë‹˜. ëª¨ë†€ë¦¬ì‹ì€ **íŠ¹ì • ìƒí™©ì—ì„œ** ìµœì ì˜ ì„ íƒì„.

- íŒ€ì´ ì‘ì„ ë•Œ
- ê¸°ëŠ¥ ê°„ ê²°í•©ë„ê°€ ë†’ì„ ë•Œ
- ë¹ ë¥´ê²Œ MVPë¥¼ ë§Œë“¤ì–´ì•¼ í•  ë•Œ

ë¬¸ì œëŠ” **ìƒí™©ì´ ë³€í–ˆëŠ”ë° êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ**ì˜€ë‹¤ëŠ” ê²ƒì„.

ë‚´ í”„ë¡œì íŠ¸ëŠ”:
- ì„¸ ê¸°ëŠ¥ì˜ ê°œë°œ ì‚¬ì´í´ì´ ì™„ì „íˆ ë‹¤ë¦„ (ì´ë ¥ì„œëŠ” 1ë…„ì— ëª‡ ë²ˆ, ë¸”ë¡œê·¸ëŠ” ë§¤ì£¼)
- ê¸°ëŠ¥ ê°„ ê²°í•©ë„ê°€ ë‚®ìŒ (ì´ë ¥ì„œì™€ ë¸”ë¡œê·¸ëŠ” ì„œë¡œë¥¼ ëª°ë¼ë„ ë¨)
- ê° ê¸°ëŠ¥ì˜ ê¸°ìˆ  ìŠ¤íƒì´ ë‹¤ë¦„ (ë¸”ë¡œê·¸ëŠ” ì—ë””í„°, í¬íŠ¸í´ë¦¬ì˜¤ëŠ” 3D)

**êµ¬ì¡°ì™€ ìƒí™©ì˜ ë¶ˆì¼ì¹˜**ê°€ ê³ í†µì˜ ì›ì¸ì´ì—ˆìŒ.

ì´ê±¸ ê¹¨ë‹«ëŠ” ë° 3ê°œì›”ì´ ê±¸ë ¸ìŒ. ì²˜ìŒë¶€í„° ì•Œì•˜ìœ¼ë©´ ì¢‹ì•˜ê² ì§€ë§Œ, ì§ì ‘ ê²ªì–´ë´ì•¼ ì•„ëŠ” ê²ƒë“¤ì´ ìˆìŒ.

## 2. ê²°ì •ì  ê³„ê¸°: ì‹¤ë¬´ ê²½í—˜

### 2-1. KOMCA í”„ë¡œì íŠ¸

íšŒì‚¬ì—ì„œ KOMCA(í•œêµ­ìŒì•…ì €ì‘ê¶Œí˜‘íšŒ) í”„ë¡œì íŠ¸ë¥¼ 6ê°œì›”ê°„ ì§„í–‰í•¨. Admin, User, Container ì„¸ ì•±ì„ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¡œ êµ¬ì„±í•œ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì˜€ìŒ.

\`\`\`
komca/
â”œâ”€â”€ container/     # Host
â”œâ”€â”€ admin/         # Remote
â”œâ”€â”€ user/          # Remote
â””â”€â”€ lib/           # ê³µí†µ
\`\`\`

ì²˜ìŒì—ëŠ” "ì™œ ì´ë ‡ê²Œ ë³µì¡í•˜ê²Œ í•˜ì§€?" ì‹¶ì—ˆìŒ. ì„¤ì •ë„ ë§ê³ , íŒŒì¼ë„ ë§ê³ .

ê·¸ëŸ°ë° 3ê°œì›”ì¯¤ ì§€ë‚˜ë‹ˆê¹Œ ê¹¨ë‹¬ìŒì´ ì™”ìŒ.

- Admin ìˆ˜ì •í•´ë„ UserëŠ” ì˜í–¥ ì—†ìŒ
- Adminë§Œ ë°°í¬í•˜ë©´ ë
- Admin ë¹Œë“œ 30ì´ˆ

**"ì•„... ì´ê²Œ ë¶„ë¦¬ì˜ í˜ì´êµ¬ë‚˜."**

### 2-2. ê³ ì°°: ê²½í—˜ ì—†ì´ëŠ” ì´í•´ ëª» í•¨

ì†”ì§íˆ ë§í•˜ë©´, KOMCA ì „ì— ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ê¸€ì„ ì½ì–´ë„ ì™€ë‹¿ì§€ ì•Šì•˜ìŒ.

"êµ³ì´ ì™œ ë‚˜ëˆ„ì§€? ë³µì¡í•˜ê¸°ë§Œ í•˜ì–ì•„."

ì´ê²Œ ë‹¹ì‹œ ë‚´ ìƒê°ì´ì—ˆìŒ.

ê·¸ëŸ°ë° ì§ì ‘ 6ê°œì›” ë™ì•ˆ ì¨ë³´ë‹ˆê¹Œ ë‹¬ëìŒ. ê¸€ë¡œ ì½ëŠ” ê²ƒê³¼ ì§ì ‘ ê²ªëŠ” ê²ƒì€ ì™„ì „íˆ ë‹¤ë¥¸ ì°¨ì›ì˜ ì´í•´ì„.

ì´ê±´ ê°œë°œë¿ ì•„ë‹ˆë¼ ëª¨ë“  ë¶„ì•¼ì— ì ìš©ë˜ëŠ” ê²ƒ ê°™ìŒ. **ê²½í—˜í•˜ì§€ ì•Šìœ¼ë©´ ì§„ì •ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ì—†ìŒ.**

ê·¸ë˜ì„œ ì´ ê¸€ì„ ì“°ëŠ” ê²ƒì„. ëˆ„êµ°ê°€ëŠ” ë‚´ ê²½í—˜ì„ ì½ê³  "ì•„, ì €ëŸ° ìƒí™©ì—ì„œ ì €ëŸ° ì„ íƒì„ í•˜ëŠ”êµ¬ë‚˜"ë¼ê³  ê°„ì ‘ ê²½í—˜ì´ë¼ë„ í•  ìˆ˜ ìˆë„ë¡.

## 3. ê¸°ìˆ  ì„ íƒì˜ ê³¼ì •

### 3-1. í›„ë³´êµ° ë¶„ì„

ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ì„.

**iframe**
- ì™„ë²½í•œ ê²©ë¦¬
- í•˜ì§€ë§Œ ì„±ëŠ¥ ì €í•˜, í†µì‹  ë³µì¡, SEO ë¶ˆë¦¬

"ë ˆê±°ì‹œ ì‹œìŠ¤í…œ í†µí•©ì—ë‚˜ ì í•©í•˜ì§€ ì•Šì„ê¹Œ?" ë¼ê³  ìƒê°í•¨. Pass.

**Single-SPA**
- í”„ë ˆì„ì›Œí¬ ë¬´ê´€ (React, Vue, Angular í˜¼ìš© ê°€ëŠ¥)
- í•˜ì§€ë§Œ ì„¤ì • ë³µì¡, Reactë§Œ ì“¸ ê±´ë° ì˜¤ë²„í‚¬

"ì—¬ëŸ¬ í”„ë ˆì„ì›Œí¬ ì„ì„ ì¼ ì—†ëŠ”ë° êµ³ì´?" Pass.

**Module Federation**
- Webpack 5 ë‚´ì¥
- ëŸ°íƒ€ì„ ì½”ë“œ ê³µìœ 
- KOMCAì—ì„œ ê²€ì¦ë¨

"ì´ë¯¸ ì¨ë´¤ê³ , ì˜ ë™ì‘í•˜ëŠ” ê±° í™•ì¸í•¨." ì„ íƒ.

### 3-2. ê³ ì°°: ê¸°ìˆ  ì„ íƒì˜ ê¸°ì¤€

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê³ ì°°ì´ ìˆìŒ.

**ê¸°ìˆ  ì„ íƒì˜ ê¸°ì¤€ì€ ë­ê°€ ë˜ì–´ì•¼ í• ê¹Œ?**

í”íˆ í•˜ëŠ” ì‹¤ìˆ˜:
- "ìš”ì¦˜ ëœ¨ëŠ” ê±°ë‹ˆê¹Œ" (íŠ¸ë Œë“œ)
- "ìƒˆë¡œ ë‚˜ì˜¨ ê±°ë‹ˆê¹Œ" (ì‹ ê¸°ìˆ )
- "ë‹¤ë“¤ ì“°ë‹ˆê¹Œ" (ìœ í–‰)

ë‚´ê°€ ì„¸ìš´ ê¸°ì¤€:
1. **ê²€ì¦ë¨**: ì‹¤ë¬´ì—ì„œ ì¨ë´¤ê±°ë‚˜, ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ì¶©ë¶„íˆ ê²€ì¦ë¨
2. **ì í•©í•¨**: ë‚´ ìƒí™©ì— ë§ìŒ
3. **ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•¨**: í˜¼ìì„œë„ ê´€ë¦¬ ê°€ëŠ¥í•œ ë³µì¡ë„

Module Federationì€ ì„¸ ê¸°ì¤€ì„ ëª¨ë‘ ì¶©ì¡±í•¨.

Viteê°€ ë” ë¹ ë¥´ê³  íŠ¸ë Œë””í•˜ì§€ë§Œ, Module Federation ì§€ì›ì´ ë¶ˆì•ˆì •í•¨. "ìƒˆë¡œìš´ ê±° ì¨ë³´ê³  ì‹¶ë‹¤"ëŠ” ìš•ì‹¬ì„ ì–µëˆ„ë¥´ê³  Webpackì„ ì„ íƒí•¨.

**íŠ¸ë Œë“œë³´ë‹¤ ì•ˆì •ì„±.**
**í˜¸ê¸°ì‹¬ë³´ë‹¤ ì‹¤ìš©ì„±.**

ì´ê²Œ ë‚´ê°€ ë°°ìš´ ê¸°ìˆ  ì„ íƒì˜ ì›ì¹™ì„.

### 3-3. ê³ ì°°: ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì— ëŒ€í•˜ì—¬

ì†”ì§íˆ ë§í•˜ë©´, ê°œì¸ í¬íŠ¸í´ë¦¬ì˜¤ì— ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œëŠ” **ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§**ì„.

í˜¼ì ê°œë°œí•˜ëŠ” ì‘ì€ í”„ë¡œì íŠ¸ì— Host, Remote1, Remote2, Remote3, lib... 5ê°œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë‹¤ë‹ˆ.

ê·¸ëŸ°ë°ë„ ì„ íƒí•œ ì´ìœ ê°€ ìˆìŒ:

1. **í•™ìŠµ ëª©ì **: ì‹¤ë¬´ì—ì„œ ë°°ìš´ ê±¸ ë‚´ ê²ƒìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ì—ˆìŒ
2. **í¬íŠ¸í´ë¦¬ì˜¤**: "MFA êµ¬ì¶• ê²½í—˜ ìˆìŒ" ì–´í•„
3. **ì‹¤í—˜ì¥**: ì‹¤ë¬´ì—ì„œ ëª» í•´ë³¸ ê²ƒë“¤ ì‹œë„

**ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì´ í•­ìƒ ë‚˜ìœ ê±´ ì•„ë‹˜.** ëª©ì ì´ ìˆë‹¤ë©´.

ë¬¸ì œëŠ” "ëª©ì  ì—†ëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§"ì„. ê·¸ëƒ¥ ë©‹ìˆì–´ ë³´ì—¬ì„œ, ë‚¨ë“¤ì´ í•˜ë‹ˆê¹Œ.

ë‚˜ëŠ” ëª…í™•í•œ ëª©ì ì´ ìˆì—ˆìŒ. ê·¸ë˜ì„œ ê´œì°®ë‹¤ê³  ìƒê°í•¨.

í•˜ì§€ë§Œ ë§Œì•½ ë¹ ë¥´ê²Œ MVPë¥¼ ë‚´ì•¼ í•˜ëŠ” ìƒí™©ì´ì—ˆë‹¤ë©´? ë‹¹ì—°íˆ ëª¨ë†€ë¦¬ì‹ìœ¼ë¡œ ê°”ì„ ê²ƒì„. **ìƒí™©ì— ë§ëŠ” ì„ íƒì´ ìµœê³ ì˜ ì„ íƒ**ì„.

## 4. ì•„í‚¤í…ì²˜ ì„¤ê³„

### 4-1. êµ¬ì¡°

\`\`\`
mfa/
â”œâ”€â”€ host/           # Container (Port 3000)
â”œâ”€â”€ remote1/        # Resume (Port 3001)
â”œâ”€â”€ remote2/        # Blog (Port 3002)
â”œâ”€â”€ remote3/        # Portfolio (Port 3003)
â””â”€â”€ lib/            # ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬ (NPM ë°°í¬)
\`\`\`

### 4-2. ì™œ ì´ êµ¬ì¡°ì¸ê°€?

**Hub-Spoke êµ¬ì¡° ì„ íƒ**

\`\`\`
       Remote1
         â†‘
Host â† â†’ Remote2
         â†“
       Remote3
\`\`\`

Remoteë“¤ì´ ì„œë¡œ í†µì‹ í•˜ëŠ” P2P êµ¬ì¡°ë„ ê³ ë ¤í–ˆì§€ë§Œ í¬ê¸°í•¨.

ì´ìœ :
- ì˜ì¡´ì„± ë³µì¡í•´ì§
- ìˆœí™˜ ì°¸ì¡° ìœ„í—˜
- ë””ë²„ê¹… ì•…ëª½

Hostê°€ ëª¨ë“  ê²ƒì„ ê´€ì¥í•˜ëŠ” Hub-Spoke êµ¬ì¡°ê°€ ë‹¨ìˆœí•˜ê³  ëª…í™•í•¨.

**ê³ ì°°: ë‹¨ìˆœí•¨ì˜ ê°€ì¹˜**

ê°œë°œí•˜ë‹¤ ë³´ë©´ "ì´ê²ƒë„ ë„£ê³  ì €ê²ƒë„ ë„£ê³ " í•˜ê³  ì‹¶ì–´ì§. ê¸°ëŠ¥ë„, êµ¬ì¡°ë„.

ê·¸ëŸ°ë° ê²½í—˜ìƒ **ë‹¨ìˆœí•œ êµ¬ì¡°ê°€ ì˜¤ë˜ ê°.**

ë³µì¡í•œ êµ¬ì¡°ëŠ”:
- ì²˜ìŒì—” "ì™€ ì™„ë²½í•´"
- 3ê°œì›” í›„ "ì´ê±° ì™œ ì´ë ‡ê²Œ í–ˆì§€?"
- 6ê°œì›” í›„ "ë‹¤ ëœ¯ì–´ê³ ì¹˜ê³  ì‹¶ì–´"

ë‹¨ìˆœí•œ êµ¬ì¡°ëŠ”:
- ì²˜ìŒì—” "ì¢€ ë¶€ì¡±í•œë°?"
- 3ê°œì›” í›„ "í•„ìš”í•œ ê±´ ì¶”ê°€í•˜ë©´ ë¼"
- 6ê°œì›” í›„ "ì—¬ì „íˆ ì´í•´í•˜ê¸° ì‰¬ì›€"

**ì²˜ìŒë¶€í„° ì™„ë²½í•˜ë ¤ê³  í•˜ì§€ ë§ ê²ƒ.** ë‹¨ìˆœí•˜ê²Œ ì‹œì‘í•˜ê³ , í•„ìš”í•  ë•Œ í™•ì¥í•˜ëŠ” ê²Œ ë§ìŒ.

## 5. ì‚½ì§ˆê³¼ ê¹¨ë‹¬ìŒ

### 5-1. ì‚½ì§ˆ 1: Shared Dependencies

**ë¬¸ì œ:**
Reactê°€ ë‘ ë²ˆ ë¡œë“œë˜ì–´ hooks ì—ëŸ¬ ë°œìƒ.

\`\`\`
Error: Invalid hook call.
You might have more than one copy of React in the same app
\`\`\`

**ì›ì¸:**
Hostì˜ Reactì™€ Remoteì˜ Reactê°€ ê°ê° ë¡œë“œë¨.

**í•´ê²°:**
\`\`\`javascript
shared: {
  react: {
    singleton: true,  // í•µì‹¬!
  },
}
\`\`\`

**ê³ ì°°: ì™œ ì´ê±¸ ëª°ëì„ê¹Œ?**

Module Federation ë¬¸ì„œë¥¼ ì½ì—ˆìŒ. \`singleton: true\`ë„ ë´¤ìŒ. ê·¸ëŸ°ë° ì™œ ì²˜ìŒì— ë¹¼ë¨¹ì—ˆì„ê¹Œ?

**ë¬¸ì„œë¥¼ "ì½ëŠ” ê²ƒ"ê³¼ "ì´í•´í•˜ëŠ” ê²ƒ"ì€ ë‹¤ë¦„.**

ë¬¸ì„œë¥¼ ì½ì„ ë•ŒëŠ” "ì•„ ì´ëŸ° ê²Œ ìˆêµ¬ë‚˜" í•˜ê³  ë„˜ì–´ê°. ë§‰ìƒ ì—ëŸ¬ê°€ í„°ì§€ë©´ ê·¸ë•Œì„œì•¼ "ì•„ ì´ê²Œ ì´ëŸ° ì˜ë¯¸ì˜€êµ¬ë‚˜" ì´í•´í•¨.

ê·¸ë˜ì„œ **ì‚½ì§ˆì´ ì¤‘ìš”í•¨.** ì‚½ì§ˆ ì—†ì´ ì„±ì¥ ì—†ìŒ.

### 5-2. ì‚½ì§ˆ 2: publicPath

**ë¬¸ì œ:**
ë¡œì»¬ì—ì„œëŠ” ì˜ ë˜ëŠ”ë° Vercel ë°°í¬í•˜ë©´ Remote ë¡œë”© ì‹¤íŒ¨.

\`\`\`
Failed to load remote 'blog': ChunkLoadError
\`\`\`

**ì›ì¸:**
\`publicPath: 'auto'\`ê°€ Vercelì—ì„œ ì˜ëª» ë™ì‘í•¨.

**í•´ê²°:**
\`\`\`javascript
output: {
  publicPath: '/',  // ëª…ì‹œì  ì„¤ì •
}
\`\`\`

**ê³ ì°°: "ì¼ë‹¨ ë˜ë‹ˆê¹Œ"ì˜ ìœ„í—˜ì„±**

\`publicPath: 'auto'\`ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì˜ ë™ì‘í•¨. ê·¸ë˜ì„œ ë¬¸ì„œì—ì„œë„ ê¶Œì¥í•¨.

"ì¼ë‹¨ ë˜ë‹ˆê¹Œ ë„˜ì–´ê°€ì."

ì´ ìƒê°ì´ ë‚˜ì¤‘ì— ë°œëª©ì„ ì¡ìŒ.

**"ì™œ ë˜ëŠ”ì§€" ëª¨ë¥´ë©´ "ì™œ ì•ˆ ë˜ëŠ”ì§€"ë„ ëª¨ë¦„.**

ë¡œì»¬ì—ì„œ ë  ë•Œ "ì™œ ë˜ëŠ”ì§€" íŒŒì•…í–ˆìœ¼ë©´, í”„ë¡œë•ì…˜ì—ì„œ ì•ˆ ë  ë•Œ "ì™œ ì•ˆ ë˜ëŠ”ì§€" ë°”ë¡œ ì•Œ ìˆ˜ ìˆì—ˆì„ ê²ƒì„.

ì•ìœ¼ë¡œëŠ” "ì¼ë‹¨ ë˜ë‹ˆê¹Œ"ë¥¼ ê²½ê³„í•´ì•¼ê² ë‹¤ê³  ìƒê°í•¨.

## 6. ì„±ëŠ¥ ë¹„êµ

### 6-1. ë¹Œë“œ ì‹œê°„

\`\`\`
[ ëª¨ë†€ë¦¬ì‹ ]
ì „ì²´: 7ë¶„ 15ì´ˆ
ë¸”ë¡œê·¸ë§Œ ìˆ˜ì •í•´ë„: 7ë¶„ 15ì´ˆ

[ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ]
Host: 25ì´ˆ
Remote1: 18ì´ˆ
Remote2: 45ì´ˆ
Remote3: 30ì´ˆ

ë¸”ë¡œê·¸ë§Œ ìˆ˜ì •í•˜ë©´: 45ì´ˆ
\`\`\`

**10ë°° ì´ìƒ ë¹ ë¥¸ ê°œë°œ ì‚¬ì´í´.**

### 6-2. ë²ˆë“¤ í¬ê¸°

\`\`\`
[ ëª¨ë†€ë¦¬ì‹ ]
main.js: 850KB (gzipped)

[ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ]
Host: 180KB
í•„ìš”í•œ Remoteë§Œ ì¶”ê°€ ë¡œë“œ

ì´ˆê¸° ë¡œë“œ: 78% ê°ì†Œ
\`\`\`

### 6-3. ê³ ì°°: ì„±ëŠ¥ë§Œì´ ì „ë¶€ê°€ ì•„ë‹˜

ìˆ˜ì¹˜ìƒìœ¼ë¡œëŠ” ì••ë„ì ìœ¼ë¡œ ì¢‹ì•„ì§. ê·¸ëŸ°ë° ì†”ì§íˆ ë§í•˜ë©´, **ì²´ê° ì°¨ì´ëŠ” ê·¸ë ‡ê²Œ í¬ì§€ ì•ŠìŒ.**

ì‚¬ìš©ì ì…ì¥ì—ì„œ 850KB vs 180KB? ë‘˜ ë‹¤ 1-2ì´ˆë©´ ë¡œë“œë¨.

ë¹Œë“œ ì‹œê°„ 7ë¶„ vs 45ì´ˆ? ì»¤í”¼ í•œ ì”ì´ëƒ ë°˜ ì”ì´ëƒì˜ ì°¨ì´.

**ì§„ì§œ ê°€ì¹˜ëŠ” "êµ¬ì¡°ì  ë¶„ë¦¬"ì— ìˆìŒ.**

- ë¸”ë¡œê·¸ ë²„ê·¸ê°€ ì´ë ¥ì„œì— ì˜í–¥ ì•ˆ ì¤Œ
- ë¸”ë¡œê·¸ë§Œ ë¡¤ë°± ê°€ëŠ¥
- ë¸”ë¡œê·¸ íŒ€ê³¼ ì´ë ¥ì„œ íŒ€ì´ ë…ë¦½ì ìœ¼ë¡œ ì¼í•  ìˆ˜ ìˆìŒ (ì§€ê¸ˆì€ í˜¼ìì§€ë§Œ)

ì„±ëŠ¥ ê°œì„ ì€ ë¶€ê°€ì ì¸ íš¨ê³¼ì˜€ê³ , **ë³¸ì§ˆì ì¸ ê°€ì¹˜ëŠ” "ë…ë¦½ì„±"**ì´ì—ˆìŒ.

## 7. íšŒê³ : ë§Œì•½ ë‹¤ì‹œ í•œë‹¤ë©´?

### 7-1. ì²˜ìŒë¶€í„° MFAë¡œ ì‹œì‘í• ê¹Œ?

**ì•„ë‹ˆì˜¤.**

ì•„ë§ˆ ëª¨ë†€ë¦¬ì‹ìœ¼ë¡œ ì‹œì‘í•˜ê³ , ë¶ˆí¸í•¨ì´ ëŠê»´ì§ˆ ë•Œ ë¶„ë¦¬í–ˆì„ ê²ƒì„.

ì´ìœ :
1. ì²˜ìŒì—ëŠ” ìš”êµ¬ì‚¬í•­ì´ ëª…í™•í•˜ì§€ ì•ŠìŒ
2. ëª¨ë†€ë¦¬ì‹ìœ¼ë¡œ ë¹ ë¥´ê²Œ MVP ë§Œë“¤ê³ 
3. êµ¬ì¡°ì  í•œê³„ê°€ ëŠê»´ì§ˆ ë•Œ ë¶„ë¦¬

**"ì²˜ìŒë¶€í„° ì™„ë²½í•˜ê²Œ"ëŠ” í™˜ìƒì„.** ì‹¤ì œë¡œëŠ” "ë¹ ë¥´ê²Œ ì‹œì‘í•˜ê³ , í•„ìš”í•  ë•Œ ê°œì„ "ì´ ë§ìŒ.

### 7-2. ë‹¤ë¥´ê²Œ í•  ì 

**1. ëª¨ë…¸ë ˆí¬ ë„ì…**
í˜„ì¬ëŠ” ê° ì•±ì´ ë³„ë„ í´ë”ì„. Turborepo ê°™ì€ ë„êµ¬ë¥¼ ì¼ìœ¼ë©´ ì˜ì¡´ì„± ê´€ë¦¬ê°€ ë” í¸í–ˆì„ ê²ƒì„.

**2. í†µí•© í…ŒìŠ¤íŠ¸ ë¨¼ì €**
ì§€ê¸ˆì€ ê° ì•± ê°œë³„ í…ŒìŠ¤íŠ¸ë§Œ ìˆìŒ. Host + Remote í†µí•© E2E í…ŒìŠ¤íŠ¸ê°€ ìˆì—ˆìœ¼ë©´ ë²„ê·¸ë¥¼ ë” ë¹¨ë¦¬ ì¡ì•˜ì„ ê²ƒì„.

**3. ë¬¸ì„œí™” ë¨¼ì €**
READMEì— ì•„í‚¤í…ì²˜ ë¬¸ì„œë¥¼ ë¯¸ë¦¬ ì¼ìœ¼ë©´ ì¢‹ì•˜ì„ ê²ƒì„. ë‚˜ì¤‘ì— ì •ë¦¬í•˜ë ¤ë‹ˆê¹Œ ê¸°ì–µì´ ê°€ë¬¼ê°€ë¬¼í•¨.

## 8. ê²°ë¡ : MFAë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ì‚¬ëŒ

### 8-1. ì¶”ì²œí•˜ëŠ” ê²½ìš°

âœ… ì—¬ëŸ¬ íŒ€ì´ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•´ì•¼ í•  ë•Œ
âœ… ê¸°ëŠ¥ë³„ ê°œë°œ/ë°°í¬ ì‚¬ì´í´ì´ ë‹¤ë¥¼ ë•Œ
âœ… ë ˆê±°ì‹œë¥¼ ì ì§„ì ìœ¼ë¡œ í˜„ëŒ€í™”í•  ë•Œ
âœ… í•™ìŠµ ëª©ì  (ë‚˜ì²˜ëŸ¼)

### 8-2. ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ê²½ìš°

âŒ í˜¼ì ê°œë°œí•˜ëŠ” ì‘ì€ í”„ë¡œì íŠ¸ (ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§)
âŒ ë¹ ë¥¸ MVPê°€ í•„ìš”í•  ë•Œ
âŒ ê¸°ëŠ¥ ê°„ ê²°í•©ë„ê°€ ë†’ì„ ë•Œ

### 8-3. ë§ˆì§€ë§‰ ê³ ì°°: ê¸°ìˆ  ì„ íƒì— ì •ë‹µì€ ì—†ìŒ

ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œê°€ ì •ë‹µì´ ì•„ë‹˜. ëª¨ë†€ë¦¬ì‹ë„ ì •ë‹µì´ ì•„ë‹˜.

**ìƒí™©ì— ë§ëŠ” ì„ íƒì´ ì •ë‹µì„.**

ê·¸ë¦¬ê³  ìƒí™©ì€ ë³€í•¨. ì˜¤ëŠ˜ì˜ ì •ë‹µì´ ë‚´ì¼ì˜ ì˜¤ë‹µì´ ë  ìˆ˜ ìˆìŒ.

ì¤‘ìš”í•œ ê±´ **"ì™œ ì´ ì„ íƒì„ í–ˆëŠ”ì§€" ì•Œê³  ìˆëŠ” ê²ƒ.**

ê·¸ëŸ¬ë©´ ìƒí™©ì´ ë°”ë€Œì—ˆì„ ë•Œ, "ì•„ ì´ì œ ì´ êµ¬ì¡°ê°€ ì•ˆ ë§ë„¤, ë°”ê¿”ì•¼ê² ë‹¤"ê³  íŒë‹¨í•  ìˆ˜ ìˆìŒ.

ê¸°ìˆ ì€ ë„êµ¬ì„. ë„êµ¬ì— ì§‘ì°©í•˜ì§€ ë§ê³ , ë¬¸ì œì— ì§‘ì¤‘í•´ì•¼ í•¨.

---

*Written by ì†í˜¸ì„±*
*2024.02.21*`,
    excerpt: 'ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì ìš©í•˜ë©´ì„œ ê²ªì€ ì‚½ì§ˆ, ê³ ë¯¼, ê¹¨ë‹¬ìŒì„ ì†”ì§í•˜ê²Œ ê³µìœ í•¨. ëª¨ë†€ë¦¬ì‹ì˜ í•œê³„ë¥¼ ëŠë¼ê³  MFAë¥¼ ì„ íƒí•˜ê¸°ê¹Œì§€ì˜ ê³¼ì •.',
    status: 'published',
    is_featured: true,
    is_pinned: false,
  },
  {
    title: 'ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì™œ í°í™”ë©´ì´ì•¼?! - MFA ë¼ìš°íŒ… 2ì£¼ê°„ì˜ ì‚½ì§ˆê³¼ ê¹¨ë‹¬ìŒ',
    content: `# ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì™œ í°í™”ë©´ì´ì•¼?! - MFA ë¼ìš°íŒ… 2ì£¼ê°„ì˜ ì‚½ì§ˆê³¼ ê¹¨ë‹¬ìŒ

## ì„œë¡ : ê°€ì¥ ê³ í†µìŠ¤ëŸ¬ì› ë˜ ë¬¸ì œ

MFA ê°œë°œ ì¤‘ ê°€ì¥ í˜ë“¤ì—ˆë˜ ë¶€ë¶„ì´ ë­ëƒê³  ë¬¼ìœ¼ë©´, ë§ì„¤ì„ ì—†ì´ **ë¼ìš°íŒ…**ì´ë¼ê³  ë‹µí•¨.

ì¦ìƒì€ ë‹¨ìˆœí–ˆìŒ:
1. Hostì—ì„œ ë¸”ë¡œê·¸ ê¸€ ìƒì„¸ í˜ì´ì§€ ì ‘ì† â†’ ì •ìƒ
2. F5 (ìƒˆë¡œê³ ì¹¨) ëˆ„ë¦„
3. í°í™”ë©´ ğŸ˜±

ì²˜ìŒì—” "ë²„ê·¸ê² ì§€" í•˜ê³  ê°€ë³ê²Œ ìƒê°í•¨. 2ì£¼ í›„, ë¼ìš°í„° ì½”ë“œë¥¼ ë°¤ìƒˆ ëš«ì–´ì§€ê²Œ ì³ë‹¤ë³´ê³  ìˆì—ˆìŒ.

ì´ 2ì£¼ê°„ì˜ ì‚½ì§ˆì´ ë‚˜ì—ê²Œ ê°€ë¥´ì³ì¤€ ê²ƒë“¤ì„ ê³µìœ í•¨.

## 1. ë¬¸ì œ ìƒí™© ë¶„ì„

### 1-1. ì •ìƒ ë™ì‘ vs ë¹„ì •ìƒ ë™ì‘

\`\`\`
[ ì •ìƒ ë™ì‘ ]
1. Host ì ‘ì† (/)
2. ë¸”ë¡œê·¸ ë©”ë‰´ í´ë¦­ (/blog)
3. ê¸€ í´ë¦­ (/blog/post/hello-world)
â†’ ëª¨ë‘ ì •ìƒ!

[ ë¹„ì •ìƒ ë™ì‘ ]
4. F5 (ìƒˆë¡œê³ ì¹¨)
â†’ í°í™”ë©´
\`\`\`

### 1-2. ë” í˜¼ë€ìŠ¤ëŸ¬ì› ë˜ ì 

**ë¡œì»¬ì—ì„œëŠ” ì˜ ë¨.** í”„ë¡œë•ì…˜(Vercel)ì—ì„œë§Œ ë¬¸ì œ.

"ë¡œì»¬ì—ì„œ ë˜ë©´ í”„ë¡œë•ì…˜ì—ì„œë„ ë˜ì–´ì•¼ í•˜ëŠ” ê±° ì•„ë‹ˆì•¼?"

ì´ ìƒê°ì´ 1ì£¼ì¼ì„ ë‚ ë¦¼.

### 1-3. ê³ ì°°: í™˜ê²½ ì°¨ì´ì˜ í•¨ì •

ì—¬ê¸°ì„œ ì²« ë²ˆì§¸ ê¹¨ë‹¬ìŒì´ ìˆì—ˆìŒ.

**"ë¡œì»¬ì—ì„œ ë¨ â‰  í”„ë¡œë•ì…˜ì—ì„œ ë¨"**

ê°œë°œ í™˜ê²½ê³¼ í”„ë¡œë•ì…˜ í™˜ê²½ì€ ë‹¤ë¦„:
- ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°
- ì„œë²„ ì„¤ì •
- ìºì‹± ì •ì±…
- ì—ëŸ¬ í•¸ë“¤ë§

"ë¡œì»¬ì—ì„œ ë˜ë‹ˆê¹Œ ë˜ê² ì§€"ëŠ” **ê°€ì¥ ìœ„í—˜í•œ ê°€ì •**ì„.

ì•ìœ¼ë¡œëŠ” "ë¡œì»¬ì—ì„œ ë  ë•Œ ì™œ ë˜ëŠ”ì§€" íŒŒì•…í•´ì•¼ê² ë‹¤ê³  ë‹¤ì§í•¨. ê·¸ë˜ì•¼ "í”„ë¡œë•ì…˜ì—ì„œ ì•ˆ ë  ë•Œ ì™œ ì•ˆ ë˜ëŠ”ì§€" ì•Œ ìˆ˜ ìˆìŒ.

## 2. ì›ì¸ íƒìƒ‰: 1ì£¼ì°¨

### 2-1. ì˜ëª»ëœ ê°€ì„¤ë“¤

**ê°€ì„¤ 1: Vercel ì„¤ì • ë¬¸ì œ?**
â†’ í™•ì¸ ê²°ê³¼, SPA ë¼ìš°íŒ… ì„¤ì • ì •ìƒ. ê¸°ê°.

**ê°€ì„¤ 2: remoteEntry.js ë¡œë”© ì‹¤íŒ¨?**
â†’ ë„¤íŠ¸ì›Œí¬ íƒ­ í™•ì¸, ëª¨ë“  íŒŒì¼ 200 OK. ê¸°ê°.

**ê°€ì„¤ 3: React Router ë²„ì „ ì¶©ëŒ?**
â†’ ë²„ì „ í†µì¼í•´ë„ ì—¬ì „íˆ ë¬¸ì œ. ê¸°ê°.

1ì£¼ì¼ ë™ì•ˆ ê°€ì„¤ ì„¸ìš°ê³  ê¸°ê°í•˜ê³ ë¥¼ ë°˜ë³µí•¨. ì§„ì „ ì—†ìŒ.

### 2-2. ê³ ì°°: ê°€ì„¤ ê²€ì¦ì˜ í•¨ì •

ì—¬ê¸°ì„œ ë‘ ë²ˆì§¸ ê¹¨ë‹¬ìŒì´ ìˆì—ˆìŒ.

**ê°€ì„¤ì„ ì„¸ìš°ê¸° ì „ì— í˜„ìƒì„ ì •í™•íˆ íŒŒì•…í•´ì•¼ í•¨.**

ë‚˜ëŠ” "ì™œ ì•ˆ ë˜ëŠ”ì§€" ì¶”ì¸¡ë§Œ í•˜ê³  ìˆì—ˆìŒ. ì •ì‘ "ì •í™•íˆ ë­ê°€ ì•ˆ ë˜ëŠ”ì§€"ëŠ” ëª¨ë¥´ê³  ìˆì—ˆìŒ.

í°í™”ë©´ì´ ëœ¬ë‹¤ â†’ ì™œ?
- JavaScript ì—ëŸ¬?
- ë¼ìš°íŠ¸ ë§¤ì¹­ ì‹¤íŒ¨?
- ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì‹¤íŒ¨?
- ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬?

**ì¦ìƒë§Œ ë³´ê³  ì›ì¸ì„ ì¶”ì¸¡í•˜ë©´ ì‚½ì§ˆí•¨.** ì¦ìƒì˜ ì •í™•í•œ ì›ì¸ì„ ë¨¼ì € íŒŒì•…í•´ì•¼ í•¨.

### 2-3. ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€

ê²°êµ­ ê¸°ë³¸ìœ¼ë¡œ ëŒì•„ê°. console.log.

\`\`\`tsx
// remote2/src/App.tsx
function App() {
  const location = useLocation();

  useEffect(() => {
    console.log('[Remote2] í˜„ì¬ ê²½ë¡œ:', location.pathname);
  }, [location.pathname]);

  return (
    <Routes>
      <Route path="/blog" element={<BlogList />} />
      <Route path="/blog/post/:slug" element={<PostDetail />} />
    </Routes>
  );
}
\`\`\`

ìƒˆë¡œê³ ì¹¨ í›„ ì½˜ì†”:
\`\`\`
[Remote2] í˜„ì¬ ê²½ë¡œ: /post/hello-world
\`\`\`

**"ì–´? \`/blog/post/hello-world\`ê°€ ì•„ë‹ˆë¼ \`/post/hello-world\`?"**

1ì£¼ì¼ ë§Œì— ì‹¤ë§ˆë¦¬ê°€ ì¡í˜. console.log í•˜ë‚˜ë¡œ.

### 2-4. ê³ ì°°: ê¸°ë³¸ê¸°ì˜ ì¤‘ìš”ì„±

ì—¬ê¸°ì„œ ì„¸ ë²ˆì§¸ ê¹¨ë‹¬ìŒì´ ìˆì—ˆìŒ.

**í™”ë ¤í•œ ë””ë²„ê¹… ë„êµ¬ë³´ë‹¤ ê¸°ë³¸ console.logê°€ ë‚˜ì„ ë•Œê°€ ìˆìŒ.**

1ì£¼ì¼ ë™ì•ˆ ë­˜ í–ˆëŠ”ì§€ ëŒì•„ë´„:
- Chrome DevTools ì´ë¦¬ì €ë¦¬ ë’¤ì§
- ë„¤íŠ¸ì›Œí¬ íƒ­ ë¶„ì„
- React DevTools í™•ì¸
- ê°–ê°€ì§€ ê°€ì„¤ ì„¸ìš°ê³  ê²€ì¦

ì •ì‘ í•„ìš”í•œ ê±´ **"í˜„ì¬ ê²½ë¡œê°€ ë­”ì§€"** í™•ì¸í•˜ëŠ” í•œ ì¤„ì˜ ë¡œê·¸ì˜€ìŒ.

**ë³µì¡í•œ ë¬¸ì œì¼ìˆ˜ë¡ ë‹¨ìˆœí•œ ì ‘ê·¼ì´ í•„ìš”í•¨.** ê¸°ë³¸ê¸°ë¥¼ ë¬´ì‹œí•˜ë©´ ì‚½ì§ˆí•¨.

## 3. ì›ì¸ ë°œê²¬

### 3-1. Hostì˜ ë¼ìš°íŒ… ë°©ì‹

Hostì˜ ë¼ìš°íŠ¸:
\`\`\`tsx
<Route path="/blog/*" element={<BlogApp />} />
\`\`\`

\`/blog/*\`ì˜ ì˜ë¯¸:
- \`/blog\` ì´í›„ì˜ ëª¨ë“  ê²½ë¡œë¥¼ ë§¤ì¹­
- **ë‚˜ë¨¸ì§€ ë¶€ë¶„**ì„ í•˜ìœ„ ë¼ìš°í„°ì— ì „ë‹¬

\`\`\`
ë¸Œë¼ìš°ì € URL: /blog/post/hello-world
Hostê°€ ë§¤ì¹­: /blog
Remoteê°€ ë°›ëŠ” ê²½ë¡œ: /post/hello-world  â† ì—¬ê¸°!
\`\`\`

**Hostê°€ \`/blog\`ë¥¼ "ë¨¹ê³ " ë‚˜ë¨¸ì§€ë§Œ Remoteì—ê²Œ ì¤Œ.**

### 3-2. Remoteì˜ ì˜ëª»ëœ ë¼ìš°íŠ¸

ê¸°ì¡´ Remoteì˜ ë¼ìš°íŠ¸:
\`\`\`tsx
<Route path="/blog/post/:slug" element={<PostDetail />} />
\`\`\`

Remoteê°€ ë°›ëŠ” ê²½ë¡œ: \`/post/hello-world\`
Remoteì˜ ë¼ìš°íŠ¸: \`/blog/post/:slug\`

**ë§¤ì¹­ ì•ˆ ë¨.** ê·¸ë˜ì„œ í°í™”ë©´.

### 3-3. ì™œ í´ë¦­ ì´ë™ì€ ëì„ê¹Œ?

"ê·¸ëŸ°ë° í´ë¦­í•´ì„œ ì´ë™í•  ë•ŒëŠ” ëì–ì•„?"

í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…:
1. ì´ë¯¸ Remoteê°€ ë¡œë“œë˜ì–´ ìˆìŒ
2. Link í´ë¦­ â†’ URL ë³€ê²½
3. Remote ë‚´ë¶€ì—ì„œ ë¼ìš°íŠ¸ ì²˜ë¦¬
4. **Hostë¥¼ ê±°ì¹˜ì§€ ì•ŠìŒ**

ìƒˆë¡œê³ ì¹¨:
1. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— ìš”ì²­
2. ì„œë²„ê°€ index.html ë°˜í™˜
3. Hostê°€ ë‹¤ì‹œ ë¡œë“œ
4. Hostê°€ \`/blog/*\` ë§¤ì¹­ â†’ Remote ë¡œë“œ
5. **Remoteê°€ \`/post/hello-world\`ë¥¼ ë°›ìŒ**

**í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…ê³¼ ì„œë²„ ì‚¬ì´ë“œ ë¼ìš°íŒ…ì˜ ì°¨ì´**ë¥¼ ì´í•´ ëª» í–ˆë˜ ê²ƒì„.

### 3-4. ê³ ì°°: SPA ë¼ìš°íŒ…ì˜ ë³¸ì§ˆ

ì—¬ê¸°ì„œ ë„¤ ë²ˆì§¸ ê¹¨ë‹¬ìŒì´ ìˆì—ˆìŒ.

**SPA ë¼ìš°íŒ…ì€ "ëˆˆì†ì„"ì„.**

\`\`\`
[ ì „í†µì ì¸ ì›¹ ]
/page1 â†’ ì„œë²„ì—ì„œ page1.html ë°˜í™˜
/page2 â†’ ì„œë²„ì—ì„œ page2.html ë°˜í™˜

[ SPA ]
/page1 â†’ ì„œë²„ì—ì„œ index.html ë°˜í™˜ â†’ JSê°€ page1 ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
/page2 â†’ ì„œë²„ì—ì„œ index.html ë°˜í™˜ â†’ JSê°€ page2 ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
\`\`\`

URLì€ ë°”ë€Œì§€ë§Œ, ì‹¤ì œë¡œ ë°›ëŠ” ê±´ í•­ìƒ ê°™ì€ index.htmlì„. JSê°€ URLì„ ë³´ê³  "ì•„ ì´ ê²½ë¡œë©´ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤˜ì•¼ê² êµ°" í•˜ê³  ë Œë”ë§í•¨.

**ìƒˆë¡œê³ ì¹¨ = ì„œë²„ì— ë‹¤ì‹œ ìš”ì²­ = ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘**

ì´ ë³¸ì§ˆì„ ì´í•´í•˜ë‹ˆê¹Œ ë¬¸ì œê°€ ëª…í™•í•´ì§.

## 4. í•´ê²°ì±… íƒìƒ‰: 2ì£¼ì°¨

### 4-1. ì‹¤íŒ¨í•œ ì‹œë„ë“¤

**ì‹œë„ 1: í™˜ê²½ë³€ìˆ˜**
\`\`\`tsx
const PREFIX = process.env.NODE_ENV === 'production' ? '' : '/blog';
\`\`\`
ë¬¸ì œ: ë¡œì»¬ì—ì„œ Host í†µí•© ì‹¤í–‰í•˜ë©´ êµ¬ë¶„ ë¶ˆê°€.

**ì‹œë„ 2: URL ê¸°ë°˜ ê°ì§€**
\`\`\`tsx
const isHostIntegration = window.location.hostname.includes('portfolio');
\`\`\`
ë¬¸ì œ: Remoteë„ vercel.app ë„ë©”ì¸ì´ë¼ êµ¬ë¶„ ë¶ˆê°€.

**ì‹œë„ 3: ì „ì—­ ë³€ìˆ˜ ê°ì§€**
\`\`\`tsx
const isHostIntegration = typeof window.__webpack_share_scopes__ !== 'undefined';
\`\`\`
ë¬¸ì œ: Remoteë„ Module Federation ì‚¬ìš©í•´ì„œ êµ¬ë¶„ ë¶ˆê°€.

### 4-2. ê³ ì°°: ë¬¸ì œ ì •ì˜ì˜ ì¤‘ìš”ì„±

ì—¬ê¸°ì„œ ë‹¤ì„¯ ë²ˆì§¸ ê¹¨ë‹¬ìŒì´ ìˆì—ˆìŒ.

**ë¬¸ì œë¥¼ ì •í™•íˆ ì •ì˜í•´ì•¼ í•´ê²°ì±…ì´ ë³´ì„.**

ë‚´ê°€ í’€ì–´ì•¼ í•  ë¬¸ì œ:
> "Remoteê°€ Host í†µí•©ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€, ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ ì–´ë–»ê²Œ ì•„ëŠ”ê°€?"

ì´ ë¬¸ì œë¥¼ ì •í™•íˆ ì •ì˜í•˜ë‹ˆê¹Œ í•´ê²°ì±…ì´ ë³´ì„.

**Hostê°€ ì§ì ‘ ì•Œë ¤ì£¼ë©´ ë˜ì–ì•„!**

### 4-3. ìµœì¢… í•´ê²°ì±…: sessionStorage í”Œë˜ê·¸

\`\`\`typescript
// lib/src/utils/storage.ts
export const storage = {
  setHostApp: () => {
    sessionStorage.setItem('mfa:host-app', 'true');
  },

  isHostApp: (): boolean => {
    return sessionStorage.getItem('mfa:host-app') === 'true';
  },
};
\`\`\`

\`\`\`tsx
// host/src/bootstrap.tsx
storage.setHostApp();  // "ë‚˜ Hostì•¼!"
\`\`\`

\`\`\`tsx
// remote2/src/routes.tsx
const PREFIX = storage.isHostApp() ? '' : '/blog';

<Route path={\`\${PREFIX}/post/:slug\`} element={<PostDetail />} />
\`\`\`

ë“œë””ì–´ í•´ê²°!

### 4-4. ì™œ sessionStorageì¸ê°€?

\`\`\`
localStorage:
- íƒ­ ê°„ ê³µìœ ë¨ â† ë¬¸ì œ!
- íƒ­1: Host í†µí•©, íƒ­2: ë‹¨ë… ì‹¤í–‰ì´ë©´ ê¼¬ì„

sessionStorage:
- íƒ­ ë‹¨ìœ„ë¡œ ê²©ë¦¬
- ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€
- íƒ­ ë‹«ìœ¼ë©´ ìë™ ì •ë¦¬
\`\`\`

### 4-5. ê³ ì°°: ë‹¨ìˆœí•œ í•´ê²°ì±…ì˜ ê°€ì¹˜

2ì£¼ê°„ ì‚½ì§ˆí•œ ë¬¸ì œì˜ í•´ê²°ì±…:
- sessionStorageì— í”Œë˜ê·¸ í•˜ë‚˜ ì‹¬ê¸°
- Hostê°€ ì‹œì‘í•  ë•Œ í”Œë˜ê·¸ ì„¤ì •
- Remoteê°€ í”Œë˜ê·¸ í™•ì¸

ì½”ë“œë¡œ ì¹˜ë©´ 10ì¤„ë„ ì•ˆ ë¨.

**"ì™œ ì§„ì‘ ì´ ìƒê°ì„ ëª» í–ˆì§€?"**

ë¬¸ì œì— íŒŒë¬»í˜€ ìˆìœ¼ë©´ ì‹œì•¼ê°€ ì¢ì•„ì§. í•œ ë°œì§ ë¬¼ëŸ¬ì„œì„œ "ì´ ë¬¸ì œì˜ ë³¸ì§ˆì´ ë­ì§€?" ë¬¼ì–´ë´¤ìœ¼ë©´ ë” ë¹¨ë¦¬ í•´ê²°í–ˆì„ ê²ƒì„.

## 5. ì¶”ê°€ ì‘ì—…ë“¤

### 5-1. ëª¨ë“  Linkì— PREFIX ì ìš©

ë¼ìš°íŠ¸ë§Œ ë°”ê¾¸ë©´ ëì´ ì•„ë‹ˆì—ˆìŒ. ëª¨ë“  Linkë„ ìˆ˜ì •í•´ì•¼ í–ˆìŒ.

\`\`\`tsx
// âŒ ì˜ëª»ëœ ë°©ì‹
<Link to="/blog/post/hello-world">ê¸€ ë³´ê¸°</Link>

// âœ… ì˜¬ë°”ë¥¸ ë°©ì‹
<Link to={\`\${PREFIX}/post/hello-world\`}>ê¸€ ë³´ê¸°</Link>
\`\`\`

Ctrl+Shift+Fë¡œ \`/blog\` ê²€ìƒ‰í•´ì„œ í•˜ë‚˜ì”© ìˆ˜ì •í•¨. ë…¸ê°€ë‹¤ì˜€ìŒ.

### 5-2. constants.tsì˜ í•¨ì •

ì²˜ìŒì—ëŠ” ì´ë ‡ê²Œ í–ˆìŒ:

\`\`\`typescript
// constants.ts
export const PREFIX = storage.isHostApp() ? '' : '/blog';
\`\`\`

ë¬¸ì œ: ëª¨ë“ˆ ë¡œë“œ ì‹œì ì— í‰ê°€ë¨.

\`\`\`
1. Host ë¡œë“œ
2. Remote ëª¨ë“ˆ ë¡œë“œ (ì´ë•Œ constants.ts í‰ê°€)
3. ì•„ì§ setHostApp() í˜¸ì¶œ ì „!
4. isHostApp() = false â†’ PREFIX = '/blog'
5. Hostê°€ setHostApp() í˜¸ì¶œ
6. ì´ë¯¸ PREFIXëŠ” '/blog'ë¡œ ê³ ì • â† ë¬¸ì œ!
\`\`\`

**ìˆœì„œê°€ ê¼¬ì„.**

í•´ê²°: ê° íŒŒì¼ì—ì„œ ì§ì ‘ ê³„ì‚°.

\`\`\`tsx
// ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘
const PREFIX = storage.isHostApp() ? '' : '/blog';
\`\`\`

### 5-3. ê³ ì°°: íƒ€ì´ë° ì´ìŠˆì˜ ì–´ë ¤ì›€

**íƒ€ì´ë° ì´ìŠˆëŠ” ê°€ì¥ ë””ë²„ê¹…í•˜ê¸° ì–´ë ¤ìš´ ë²„ê·¸ ìœ í˜•ì„.**

"Aê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³  Bê°€ ë‚˜ì¤‘ì— ì‹¤í–‰ëœë‹¤"ëŠ” ê°€ì •ì´ ê¹¨ì§€ë©´ ë²„ê·¸ê°€ ë‚¨.

ê·¸ë¦¬ê³  ì´ëŸ° ë²„ê·¸ëŠ”:
- ì¬í˜„ì´ ì–´ë ¤ì›€ (íƒ€ì´ë°ì— ë”°ë¼ ë˜ê¸°ë„ í•˜ê³  ì•ˆ ë˜ê¸°ë„)
- ì›ì¸ íŒŒì•…ì´ ì–´ë ¤ì›€ (ë¡œê·¸ ì°ì–´ë„ ìˆœì„œê°€ ë’¤ì£½ë°•ì£½)
- ìˆ˜ì • í›„ ê²€ì¦ì´ ì–´ë ¤ì›€ (ìš°ì—°íˆ ëœ ê±´ì§€ ì§„ì§œ ëœ ê±´ì§€)

**íƒ€ì´ë°ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œëŠ” í”¼í•´ì•¼ í•¨.** ë¶ˆê°€í”¼í•˜ë©´, ëª…ì‹œì ìœ¼ë¡œ ìˆœì„œë¥¼ ë³´ì¥í•´ì•¼ í•¨.

## 6. ë°°ìš´ ê²ƒë“¤ ì •ë¦¬

### 6-1. ê¸°ìˆ ì  êµí›ˆ

1. **ë¡œì»¬ì—ì„œ ë¨ â‰  í”„ë¡œë•ì…˜ì—ì„œ ë¨**
2. **SPA ë¼ìš°íŒ…ì€ ëˆˆì†ì„, ìƒˆë¡œê³ ì¹¨ì€ ì²˜ìŒë¶€í„° ë‹¤ì‹œ**
3. **íƒ€ì´ë° ì´ìŠˆëŠ” ëª…ì‹œì  ìˆœì„œ ë³´ì¥ìœ¼ë¡œ í•´ê²°**
4. **í•˜ë“œì½”ë”©ì€ ì‹œí•œí­íƒ„**

### 6-2. ë§ˆì¸ë“œì…‹ êµí›ˆ

1. **ê°€ì„¤ ì„¸ìš°ê¸° ì „ì— í˜„ìƒ ì •í™•íˆ íŒŒì•…**
2. **ë³µì¡í•œ ë¬¸ì œì¼ìˆ˜ë¡ ë‹¨ìˆœí•œ ì ‘ê·¼**
3. **ê¸°ë³¸ê¸°(console.log)ë¥¼ ë¬´ì‹œí•˜ì§€ ë§ ê²ƒ**
4. **ë¬¸ì œë¥¼ ì •í™•íˆ ì •ì˜í•˜ë©´ í•´ê²°ì±…ì´ ë³´ì„**
5. **ì‚½ì§ˆ = í•™ìŠµ**

### 6-3. ê³ ì°°: ì‚½ì§ˆì˜ ê°€ì¹˜

2ì£¼ ë™ì•ˆ ì‚½ì§ˆí–ˆìŒ. í˜ë“¤ì—ˆìŒ.

ê·¸ëŸ°ë° ëŒì•„ë³´ë©´, **ì´ 2ì£¼ê°€ ê°€ì¥ ë§ì´ ë°°ìš´ ì‹œê°„**ì´ì—ˆìŒ.

- SPA ë¼ìš°íŒ…ì˜ ë³¸ì§ˆì„ ì´í•´í•¨
- Module Federationì˜ ë™ì‘ ë°©ì‹ì„ ì´í•´í•¨
- ë””ë²„ê¹… ì ‘ê·¼ë²•ì„ ë°°ì›€
- ë¬¸ì œ ì •ì˜ì˜ ì¤‘ìš”ì„±ì„ ê¹¨ë‹¬ìŒ

**ì‚½ì§ˆ ì—†ì´ ì–»ì€ ì§€ì‹ì€ ê¸ˆë°© ìŠìŒ.** ì‚½ì§ˆí•˜ë©´ì„œ ì–»ì€ ì§€ì‹ì€ ì˜¤ë˜ ê°.

ê·¸ë˜ì„œ ì‚½ì§ˆì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šìœ¼ë ¤ê³  í•¨. ì‚½ì§ˆì€ ì„±ì¥ì˜ ê¸°íšŒì„.

---

*Written by ì†í˜¸ì„±*
*2024.02.21*`,
    excerpt: 'MFA ë¼ìš°íŒ…ì—ì„œ ê°€ì¥ ê³ í†µìŠ¤ëŸ¬ì› ë˜ "ìƒˆë¡œê³ ì¹¨ í°í™”ë©´" ë¬¸ì œ. 2ì£¼ê°„ì˜ ì‚½ì§ˆ ê³¼ì •ê³¼ í•´ê²°ì±…, ê·¸ë¦¬ê³  ê·¸ ê³¼ì •ì—ì„œ ë°°ìš´ ê²ƒë“¤.',
    status: 'published',
    is_featured: true,
    is_pinned: false,
  },
];

const generateSlug = (title) => {
  return (
    title
      .toLowerCase()
      .replace(/[^a-z0-9ê°€-í£\s]/g, '')
      .replace(/\s+/g, '-') +
    '-' +
    Date.now()
  );
};

async function seedPosts() {
  console.log('Starting to seed posts...');

  for (const post of posts) {
    const slug = generateSlug(post.title);

    const { data, error } = await supabase
      .from('blog_posts')
      .insert({
        title: post.title,
        content: post.content,
        excerpt: post.excerpt,
        slug: slug,
        status: post.status,
        is_featured: post.is_featured,
        is_pinned: post.is_pinned,
        user_id: userId,
        published_at: new Date().toISOString(),
      })
      .select()
      .single();

    if (error) {
      console.error('Error inserting post:', post.title);
      console.error(error);
    } else {
      console.log('Inserted post:', data.title, '(slug:', data.slug, ')');
    }
  }

  console.log('Done!');
}

seedPosts();
